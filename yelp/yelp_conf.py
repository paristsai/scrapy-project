# -*- coding: utf-8 -*-
# scrapy shell

cusine_types = {}
def getCusineType(url):
	fetch(url)
	d = {}
	for sel in response.xpath('//a[@class="category-browse-anchor js-search-header-link"]'):
		d_key = sel.xpath('.//@href').re_first('cflt=(\w+)')
		d_val = sel.xpath('.//text()').extract_first()
		d[d_key] = d_val
	return d

cusine_types_l1 = dict([(u'chinese', u'\u4e2d\u570b\u83dc'), (u'japanese', u'\u65e5\u672c\u6599\u7406'), (u'hotpot', u'\u706b\u934b'), (u'steak', u'\u725b\u6392\u9928'), (u'taiwanese', u'\u53f0\u7063\u83dc'), (u'breakfast_brunch', u'\u65e9\u9910\u53ca\u65e9\u5348\u9910'), (u'buffets', u'\u81ea\u52a9\u9910'), (u'hotdogs', u'\u5feb\u9910'), (u'cafes', u'\u5496\u5561\u5ef3'), (u'seafood', u'\u6d77\u9bae'), (u'vegetarian', u'\u7d20\u98df'), (u'italian', u'\u7fa9\u5927\u5229\u83dc'), (u'sushi', u'\u58fd\u53f8\u5e97'), (u'burgers', u'\u6f22\u5821'), (u'delis', u'\u719f\u98df\u5e97'), (u'bbq', u'\u71d2\u70e4'), (u'korean', u'\u97d3\u570b\u83dc'), (u'chickenshop', u'\u96de\u8089\u5c08\u9580\u5e97'), (u'sandwiches', u'\u4e09\u660e\u6cbb'), (u'turkish', u'\u571f\u8033\u5176\u83dc'), (u'bistros', u'\u5c0f\u9928'), (u'gluten_free', u'\u4e0d\u542b\u9ea9\u8cea'), (u'mideastern', u'\u4e2d\u6771\u83dc'), (u'chinese', u'\u4e2d\u570b\u83dc'), (u'brazilian', u'\u5df4\u897f\u83dc'), (u'pakistani', u'\u5df4\u57fa\u65af\u5766\u83dc'), (u'basque', u'\u5df4\u65af\u514b\u83dc'), (u'japanese', u'\u65e5\u672c\u6599\u7406'), (u'belgian', u'\u6bd4\u5229\u6642\u83dc'), (u'hotpot', u'\u706b\u934b'), (u'steak', u'\u725b\u6392\u9928'), (u'caribbean', u'\u52a0\u52d2\u6bd4\u83dc'), (u'scandinavian', u'\u5317\u6b50\u83dc'), (u'cuban', u'\u53e4\u5df4\u83dc'), (u'taiwanese', u'\u53f0\u7063\u83dc'), (u'nicaraguan', u'\u5c3c\u52a0\u62c9\u74dc\u83dc'), (u'ethiopian', u'\u4f0a\u7d22\u6bd4\u4e9e\u83dc'), (u'vegan', u'\u5168\u7d20'), (u'hungarian', u'\u5308\u7259\u5229\u83dc'), (u'indonesian', u'\u5370\u5c3c\u83dc'), (u'indpak', u'\u5370\u5ea6\u83dc'), (u'mediterranean', u'\u5730\u4e2d\u6d77\u83dc'), (u'breakfast_brunch', u'\u65e9\u9910\u53ca\u65e9\u5348\u9910'), (u'buffets', u'\u81ea\u52a9\u9910'), (u'cafeteria', u'\u81ea\u52a9\u9910'), (u'tapasmallplates', u'\u897f\u73ed\u7259\u5c0f\u98df'), (u'tapas', u'\u897f\u73ed\u7259\u5c0f\u98df\u9152\u5427'), (u'spanish', u'\u897f\u73ed\u7259\u83dc'), (u'diners', u'\u897f\u9910\u9928'), (u'greek', u'\u5e0c\u81d8\u83dc'), (u'hotdogs', u'\u5feb\u9910'), (u'salad', u'\u6c99\u62c9'), (u'kebab', u'\u6c99\u5a01\u99ac'), (u'panasian', u'\u4e9e\u6d32\u83dc'), (u'asianfusion', u'\u4e9e\u6d32\u878d\u5408'), (u'cafes', u'\u5496\u5561\u5ef3'), (u'bangladeshi', u'\u5b5f\u52a0\u62c9\u83dc'), (u'latin', u'\u62c9\u4e01\u7f8e\u6d32\u83dc'), (u'brasseries', u'\u6cd5\u5f0f\u9910\u5ef3'), (u'creperies', u'\u6cd5\u5f0f\u8584\u9905'), (u'french', u'\u6cd5\u570b\u83dc'), (u'persian', u'\u6ce2\u65af\u83dc\uff0f\u4f0a\u6717\u83dc'), (u'polish', u'\u6ce2\u862d\u83dc'), (u'arabian', u'\u963f\u62c9\u4f2f\u83dc'), (u'argentine', u'\u963f\u6839\u5ef7\u83dc'), (u'afghani', u'\u963f\u5bcc\u6c57\u83dc'), (u'african', u'\u975e\u6d32\u83dc'), (u'russian', u'\u4fc4\u7f85\u65af\u83dc'), (u'bulgarian', u'\u4fdd\u52a0\u5229\u4e9e\u83dc'), (u'cambodian', u'\u67ec\u57d4\u5be8\u83dc'), (u'honduran', u'\u6d2a\u90fd\u62c9\u65af\u83dc'), (u'fishnchips', u'\u70b8\u9b5a\u85af\u689d'), (u'cajun', u'\u7f8e\u570b\u5357\u90e8\u83dc'), (u'tradamerican', u'\u7f8e\u570b\u83dc\uff08\u50b3\u7d71\uff09'), (u'gastropubs', u'\u82f1\u5f0f\u9152\u5427\u9910\u9928'), (u'british', u'\u82f1\u570b\u83dc'), (u'hawaiian', u'\u590f\u5a01\u5937\u83dc'), (u'thai', u'\u6cf0\u570b\u83dc'), (u'seafood', u'\u6d77\u9bae'), (u'ukrainian', u'\u70cf\u514b\u862d\u83dc'), (u'peruvian', u'\u79d8\u9b6f\u83dc'), (u'vegetarian', u'\u7d20\u98df'), (u'fondue', u'\u8d77\u53f8\u706b\u934b'), (u'malaysian', u'\u99ac\u4f86\u897f\u4e9e\u83dc'), (u'international', u'\u570b\u969b\u83dc'), (u'syrian', u'\u6558\u5229\u4e9e\u83dc'), (u'halal', u'\u6e05\u771f'), (u'modern_european', u'\u73fe\u4ee3\u6b50\u6d32\u83dc'), (u'himalayan', u'\u559c\u99ac\u62c9\u96c5\u5c71\uff0f\u5c3c\u6cca\u723e'), (u'srilankan', u'\u65af\u91cc\u862d\u5361\u6599\u7406'), (u'hkcafe', u'\u6e2f\u5f0f\u8336\u9910\u5ef3'), (u'soup', u'\u6e6f'), (u'kosher', u'\u7336\u592a\u6559\u6f54\u98df'), (u'popuprestaurants', u'\u77ed\u671f\u9910\u5ef3'), (u'filipino', u'\u83f2\u5f8b\u8cd3\u83dc'), (u'vietnamese', u'\u8d8a\u5357\u83dc'), (u'austrian', u'\u5967\u5730\u5229\u83dc'), (u'irish', u'\u611b\u723e\u862d\u83dc'), (u'singaporean', u'\u65b0\u52a0\u5761\u83dc'), (u'raw_food', u'\u65b0\u9bae\uff0f\u751f\u98df\u98df\u54c1'), (u'italian', u'\u7fa9\u5927\u5229\u83dc'), (u'portuguese', u'\u8461\u8404\u7259\u83dc'), (u'sushi', u'\u58fd\u53f8\u5e97'), (u'burgers', u'\u6f22\u5821'), (u'mongolian', u'\u8499\u53e4\u83dc'), (u'laotian', u'\u5bee\u570b\u83dc'), (u'tex', u'\u5fb7\u5dde\uff0d\u58a8\u897f\u54e5\u6df7\u5408\u83dc'), (u'german', u'\u5fb7\u570b\u83dc'), (u'moroccan', u'\u6469\u6d1b\u54e5\u83dc'), (u'delis', u'\u719f\u98df\u5e97'), (u'hotdog', u'\u71b1\u72d7'), (u'burmese', u'\u7dec\u7538\u83dc'), (u'mexican', u'\u58a8\u897f\u54e5\u83dc'), (u'australian', u'\u6fb3\u6d32\u83dc'), (u'bbq', u'\u71d2\u70e4'), (u'dinnertheater', u'\u6232\u9662\u9910\u5ef3'), (u'pizza', u'\u8584\u9905'), (u'korean', u'\u97d3\u570b\u83dc'), (u'chickenshop', u'\u96de\u8089\u5c08\u9580\u5e97'), (u'chicken_wings', u'\u96de\u7fc5'), (u'waffles', u'\u9b06\u9905'), (u'guamanian', u'\u95dc\u5cf6\u83dc'), (u'noodles', u'\u9eb5'), (u'foodstands', u'\u6524\u8ca9')])
# base_url = 'https://www.yelp.com.tw/search?find_loc=%E5%8F%B0%E5%8C%97%E5%B8%82&cflt={}'
# entry_url = base_url.format('restaurants')

# cusine_types.update(getCusineType(entry_url))
# for key in cusine_types.keys():
# 	target_url = base_url.format(key)
# 	print(target_url)
# 	cusine_types.update(getCusineType(target_url))

cusine_types_l2 = dict([(u'beautysvc', u'\u7f8e\u5bb9Spa'), (u'singaporean', u'\u65b0\u52a0\u5761\u83dc'), (u'homeservices', u'\u5bb6\u5c45\u670d\u52d9'), (u'chinese', u'\u4e2d\u570b\u83dc'), (u'german', u'\u5fb7\u570b\u83dc'), (u'donburi', u'\u4e3c\u7269'), (u'robatayaki', u'\u7210\u7aef\u71d2'), (u'ethiopian', u'\u4f0a\u7d22\u6bd4\u4e9e\u83dc'), (u'moroccan', u'\u6469\u6d1b\u54e5\u83dc'), (u'hokkien', u'\u798f\u5efa'), (u'westernjapanese', u'\u897f\u5f0f\u65e5\u672c\u6599\u7406'), (u'cambodian', u'\u67ec\u57d4\u5be8\u83dc'), (u'basque', u'\u5df4\u65af\u514b\u83dc'), (u'polish', u'\u6ce2\u862d\u83dc'), (u'cafeteria', u'\u81ea\u52a9\u9910'), (u'onigiri', u'\u5fa1\u98ef\u7cf0'), (u'kaiseki', u'\u61f7\u77f3\u6599\u7406'), (u'hunan', u'\u6e56\u5357\u83dc'), (u'hotpot', u'\u706b\u934b'), (u'arts', u'\u85dd\u8853\u53ca\u5a1b\u6a02'), (u'kebab', u'\u6c99\u5a01\u99ac'), (u'turkish', u'\u571f\u8033\u5176\u83dc'), (u'financialservices', u'\u91d1\u878d\u670d\u52d9'), (u'okonomiyaki', u'\u5fa1\u597d\u71d2'), (u'popuprestaurants', u'\u77ed\u671f\u9910\u5ef3'), (u'buffets', u'\u81ea\u52a9\u9910'), (u'conveyorsushi', u'\u8ff4\u8f49\u58fd\u53f8'), (u'localflavor', u'\u672c\u5730\u7279\u8272'), (u'bangladeshi', u'\u5b5f\u52a0\u62c9\u83dc'), (u'oden', u'\u95dc\u6771\u716e'), (u'handrolls', u'\u624b\u6372'), (u'arabian', u'\u963f\u62c9\u4f2f\u83dc'), (u'eventservices', u'\u6d3b\u52d5\u7b56\u5283\u53ca\u7d71\u7c4c'), (u'brazilian', u'\u5df4\u897f\u83dc'), (u'dimsum', u'\u9ede\u5fc3'), (u'raw_food', u'\u65b0\u9bae\uff0f\u751f\u98df\u98df\u54c1'), (u'australian', u'\u6fb3\u6d32\u83dc'), (u'pakistani', u'\u5df4\u57fa\u65af\u5766\u83dc'), (u'argentine', u'\u963f\u6839\u5ef7\u83dc'), (u'belgian', u'\u6bd4\u5229\u6642\u83dc'), (u'horumon', u'\u65e5\u5f0f\u5167\u81df\u71d2'), (u'indonesian', u'\u5370\u5c3c\u83dc'), (u'tradamerican', u'\u7f8e\u570b\u83dc\uff08\u50b3\u7d71\uff09'), (u'srilankan', u'\u65af\u91cc\u862d\u5361\u6599\u7406'), (u'unagi', u'\u9c3b\u9b5a'), (u'hungarian', u'\u5308\u7259\u5229\u83dc'), (u'halal', u'\u6e05\u771f'), (u'food', u'\u98df\u54c1'), (u'mediterranean', u'\u5730\u4e2d\u6d77\u83dc'), (u'congee', u'\u7ca5'), (u'bulgarian', u'\u4fdd\u52a0\u5229\u4e9e\u83dc'), (u'vegan', u'\u5168\u7d20'), (u'chickenshop', u'\u96de\u8089\u5c08\u9580\u5e97'), (u'greek', u'\u5e0c\u81d8\u83dc'), (u'udon', u'\u70cf\u9f8d'), (u'african', u'\u975e\u6d32\u83dc'), (u'afghani', u'\u963f\u5bcc\u6c57\u83dc'), (u'russian', u'\u4fc4\u7f85\u65af\u83dc'), (u'yakiniku', u'\u65e5\u5f0f\u70e4\u8089'), (u'thai', u'\u6cf0\u570b\u83dc'), (u'ramen', u'\u62c9\u9eb5'), (u'hotdogs', u'\u5feb\u9910'), (u'bistros', u'\u5c0f\u9928'), (u'hkcafe', u'\u6e2f\u5f0f\u8336\u9910\u5ef3'), (u'creperies', u'\u6cd5\u5f0f\u8584\u9905'), (u'waffles', u'\u9b06\u9905'), (u'salad', u'\u6c99\u62c9'), (u'shopping', u'\u8cfc\u7269'), (u'breakfast_brunch', u'\u65e9\u9910\u53ca\u65e9\u5348\u9910'), (u'indpak', u'\u5370\u5ea6\u83dc'), (u'malaysian', u'\u99ac\u4f86\u897f\u4e9e\u83dc'), (u'teochew', u'\u6f6e\u5dde\u83dc'), (u'scandinavian', u'\u5317\u6b50\u83dc'), (u'soup', u'\u6e6f'), (u'laotian', u'\u5bee\u570b\u83dc'), (u'bbq', u'\u71d2\u70e4'), (u'steak', u'\u725b\u6392\u9928'), (u'sushi', u'\u58fd\u53f8\u5e97'), (u'seafood', u'\u6d77\u9bae'), (u'yakitori', u'\u65e5\u5f0f\u70e4\u96de\u4e32'), (u'italian', u'\u7fa9\u5927\u5229\u83dc'), (u'portuguese', u'\u8461\u8404\u7259\u83dc'), (u'irish', u'\u611b\u723e\u862d\u83dc'), (u'cafes', u'\u5496\u5561\u5ef3'), (u'hakka', u'\u5ba2\u5bb6\u83dc'), (u'japacurry', u'\u65e5\u5f0f\u5496\u54e9'), (u'soba', u'\u854e\u9ea5\u9eb5'), (u'peruvian', u'\u79d8\u9b6f\u83dc'), (u'spanish', u'\u897f\u73ed\u7259\u83dc'), (u'taiwanese', u'\u53f0\u7063\u83dc'), (u'japanese', u'\u65e5\u672c\u6599\u7406'), (u'tex', u'\u5fb7\u5dde\uff0d\u58a8\u897f\u54e5\u6df7\u5408\u83dc'), (u'delis', u'\u719f\u98df\u5e97'), (u'persian', u'\u6ce2\u65af\u83dc\uff0f\u4f0a\u6717\u83dc'), (u'teppanyaki', u'\u9435\u677f\u71d2'), (u'mongolian', u'\u8499\u53e4\u83dc'), (u'austrian', u'\u5967\u5730\u5229\u83dc'), (u'honduran', u'\u6d2a\u90fd\u62c9\u65af\u83dc'), (u'nicaraguan', u'\u5c3c\u52a0\u62c9\u74dc\u83dc'), (u'syrian', u'\u6558\u5229\u4e9e\u83dc'), (u'chicken_wings', u'\u96de\u7fc5'), (u'pekinese', u'\u5317\u4eac\u83dc'), (u'fishnchips', u'\u70b8\u9b5a\u85af\u689d'), (u'modern_european', u'\u73fe\u4ee3\u6b50\u6d32\u83dc'), (u'takoyaki', u'\u7ae0\u9b5a\u71d2'), (u'noodles', u'\u9eb5'), (u'caribbean', u'\u52a0\u52d2\u6bd4\u83dc'), (u'hawaiian', u'\u590f\u5a01\u5937\u83dc'), (u'themedcafes', u'\u4e3b\u984c\u5496\u5561\u5ef3'), (u'burgers', u'\u6f22\u5821'), (u'foodstands', u'\u6524\u8ca9'), (u'fondue', u'\u8d77\u53f8\u706b\u934b'), (u'tempura', u'\u5929\u5a66\u7f85'), (u'asianfusion', u'\u4e9e\u6d32\u878d\u5408'), (u'localservices', u'\u672c\u5730\u670d\u52d9'), (u'dinnertheater', u'\u6232\u9662\u9910\u5ef3'), (u'fuzhou', u'\u798f\u5dde\u83dc'), (u'health', u'\u5065\u5eb7\u53ca\u91ab\u7642'), (u'mexican', u'\u58a8\u897f\u54e5\u83dc'), (u'tonkatsu', u'\u70b8\u8c6c\u6392'), (u'auto', u'\u6c7d\u8eca'), (u'international', u'\u570b\u969b\u83dc'), (u'korean', u'\u97d3\u570b\u83dc'), (u'henghwa', u'\u8208\u5316'), (u'publicservicesgovt', u'\u653f\u5e9c\u8207\u516c\u5171\u4e8b\u52d9'), (u'pizza', u'\u8584\u9905'), (u'shanghainese', u'\u4e0a\u6d77\u83dc'), (u'guamanian', u'\u95dc\u5cf6\u83dc'), (u'cajun', u'\u7f8e\u570b\u5357\u90e8\u83dc'), (u'latin', u'\u62c9\u4e01\u7f8e\u6d32\u83dc'), (u'cantonese', u'\u5ee3\u6771\u83dc'), (u'ukrainian', u'\u70cf\u514b\u862d\u83dc'), (u'brasseries', u'\u6cd5\u5f0f\u9910\u5ef3'), (u'panasian', u'\u4e9e\u6d32\u83dc'), (u'pets', u'\u5bf5\u7269'), (u'french', u'\u6cd5\u570b\u83dc'), (u'gluten_free', u'\u4e0d\u542b\u9ea9\u8cea'), (u'restaurants', u'\u9910\u5ef3'), (u'diners', u'\u897f\u9910\u9928'), (u'sukiyaki', u'\u58fd\u559c\u71d2'), (u'active', u'\u904b\u52d5\u4f11\u9592'), (u'sandwiches', u'\u4e09\u660e\u6cbb'), (u'gastropubs', u'\u82f1\u5f0f\u9152\u5427\u9910\u9928'), (u'religiousorgs', u'\u5b97\u6559\u7d44\u7e54'), (u'cuban', u'\u53e4\u5df4\u83dc'), (u'realestate', u'\u623f\u5730\u7522'), (u'filipino', u'\u83f2\u5f8b\u8cd3\u83dc'), (u'izakaya', u'\u5c45\u9152\u5c4b'), (u'vegetarian', u'\u7d20\u98df'), (u'vietnamese', u'\u8d8a\u5357\u83dc'), (u'education', u'\u6559\u80b2'), (u'british', u'\u82f1\u570b\u83dc'), (u'nightlife', u'\u591c\u751f\u6d3b'), (u'kosher', u'\u7336\u592a\u6559\u6f54\u98df'), (u'tapasmallplates', u'\u897f\u73ed\u7259\u5c0f\u98df'), (u'burmese', u'\u7dec\u7538\u83dc'), (u'szechuan', u'\u56db\u5ddd\u83dc'), (u'mideastern', u'\u4e2d\u6771\u83dc'), (u'massmedia', u'\u5927\u773e\u5a92\u9ad4'), (u'himalayan', u'\u559c\u99ac\u62c9\u96c5\u5c71\uff0f\u5c3c\u6cca\u723e'), (u'tapas', u'\u897f\u73ed\u7259\u5c0f\u98df\u9152\u5427'), (u'professional', u'\u5c08\u696d\u670d\u52d9'), (u'hotelstravel', u'\u98ef\u5e97\u53ca\u65c5\u904a'), (u'hotdog', u'\u71b1\u72d7')])
cusine_types = cusine_types_l2
# taiwan_cities = dict([('TaipeiCity': '台北市'), ('NewTaipeiCity': '新北市'), ('Keelung': '基隆市'), ('TaichungCity': '台中市'), ('KaohsiungCity': '高雄市'), ('Kaohsiung': '高雄縣'), ('TaoyuanCity': '桃園市'), ('ShinsuAgumi': '新竹縣'), ('Miaoli': '苗栗縣'), ('SouthTraning': '南投縣'), ('Akariasan': '彰化縣'), ('UncleYun': '雲林縣'), ('Jiayiaga': '嘉義縣'), ('TananAgata': '臺南縣'), ('Pingpong': '屏東縣'), ('YilanYang': '宜蘭縣'), ('Hualien': '花蓮縣'), ('TaitoAgata': '臺東縣')])
taiwan_cities = ['台北市', '新北市', '基隆市', '台中市', '高雄市', '高雄縣', '桃園市', '新竹縣', '苗栗縣', '南投縣', '彰化縣', '雲林縣', '嘉義縣', '臺南縣', '屏東縣', '宜蘭縣', '花蓮縣', '臺東縣']